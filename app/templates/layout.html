{% extends "calibre-web/cps/templates/layout.html" %}

{% block header %}
  {{ super() }}
  <style id="ub-lang-style">
    .ub-lang-switch { display: flex; align-items: center; height: 50px; gap: 12px; padding: 0 6px; }
    .ub-lang-option { background: transparent; border: none; padding: 0 6px 6px; margin: 0; font-size: 15px; font-weight: 700; letter-spacing: 0.5px; line-height: 20px; color: inherit; text-transform: uppercase; }
    .ub-lang-option.active { color: var(--cw-primary, #0f6958); border-bottom: 2px solid currentColor; }
    .ub-lang-option:focus { outline: none; box-shadow: none; }
    .ub-profile-disabled { pointer-events: none; cursor: default; color: #777; }
  </style>
{% endblock %}

{% block js %}
  {{ super() }}
  <div id="ub-config"
       data-is-admin="{{ 1 if current_user and current_user.role_admin() else 0 }}"
      data-is-anon="{{ 1 if current_user.is_anonymous else 0 }}"
       data-switch-url="{{ url_for('language_switch.switch_language') }}"
      data-active-lang="{{ session.get('ub_preferred_locale') or (current_user.locale if current_user and (not current_user.is_anonymous) else None) or 'lv' }}"
      data-login-url="{{ url_for('web.login', next=(request.path + '?' + request.query_string.decode('utf-8')).rstrip('?')) }}"
      data-login-label="{{ _('Login') }}"
       hidden></div>
  <script src="{{ url_for('_app_templates.static', filename='js/ub_lang_switch.js') }}"></script>
{% endblock %}
